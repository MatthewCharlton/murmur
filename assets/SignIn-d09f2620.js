import{u as _,j as $,c as m,k as h,i as r,n as x,a as u,L as y,t as d}from"./index-77142ebd.js";import E from"./index-5844a2ca.js";import"./browser-ponyfill-5ce9a37a.js";const S=d('<form class="mx-auto max-w-sm my-6"><div class="p-2"><label for="email">Email <br><input class="p-2 border-2 w-full" id="email" type="email" required autocomplete="email"></label></div><div class="p-2"><label for="password">Password <br><input class="p-2 border-2 w-full" id="password" type="password" required></label></div><div class="p-2"></div><br><div class="mx-2 my-1"></div></form>'),L=d("<span></span>");function N(){const n=_(),c=$(),[p,b]=m(""),[o,f]=m(""),g=async e=>{e.preventDefault();const a=document.getElementById("email")?.value,l=document.getElementById("password")?.value,{data:s,error:t}=await n.supabase.auth.signInWithPassword({email:a,password:l});if(t){console.log("error :>> ",t),f(t.message);return}console.log("data",s),b(s.user?.email||"")};return h(()=>{(p()||n?.username())&&c("/murmur/")}),(()=>{const e=S.cloneNode(!0),a=e.firstChild,l=a.nextSibling,s=l.nextSibling,t=s.nextSibling,v=t.nextSibling;return e.addEventListener("submit",g),r(e,(()=>{const w=x(()=>!!o());return()=>w()?(()=>{const i=L.cloneNode(!0);return r(i,o),i})():null})(),a),r(s,u(E,{type:"submit",children:"Submit"})),r(v,u(y,{class:"underline",href:"/murmur/reset-password",children:"Forgot password?"})),e})()}export{N as default};
